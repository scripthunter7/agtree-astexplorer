(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"3HgI":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Type=void 0;var r=n("Elmy"),s=n("ONdV"),o=n("JEmy"),i=n("hEzU"),a=n("5uWW");function type_suffix(e,t){const n=e.consume("?");n&&(t.tokens.nullable=n),e.probe("?")&&e.error("Can't nullable more than once")}function single_type(e,t){let n=function generic_type(e,t){const n=e.consume("FrozenArray","Promise","sequence","record");if(!n)return;const r=(0,s.autoParenter)(new Type({source:e.source,tokens:{base:n}}));switch(r.tokens.open=e.consume("<")||e.error("No opening bracket after "+n.type),n.type){case"Promise":{e.probe("[")&&e.error("Promise type cannot have extended attribute");const n=(0,s.return_type)(e,t)||e.error("Missing Promise subtype");r.subtype.push(n);break}case"sequence":case"FrozenArray":{const o=(0,s.type_with_extended_attributes)(e,t)||e.error(`Missing ${n.type} subtype`);r.subtype.push(o);break}case"record":{e.probe("[")&&e.error("Record key cannot have extended attribute");const n=e.consume(...o.stringTypes)||e.error("Record key must be one of: "+o.stringTypes.join(", ")),i=new Type({source:e.source,tokens:{base:n}});i.tokens.separator=e.consume(",")||e.error("Missing comma after record key type"),i.type=t;const a=(0,s.type_with_extended_attributes)(e,t)||e.error("Error parsing generic type record");r.subtype.push(i,a);break}}return r.idlType||e.error("Error parsing generic type "+n.type),r.tokens.close=e.consume(">")||e.error("Missing closing bracket after "+n.type),r.this}(e,t)||(0,s.primitive_type)(e);if(!n){const t=e.consume("identifier",...o.stringTypes,...o.typeNameKeywords);if(!t)return;n=new Type({source:e.source,tokens:{base:t}}),e.probe("<")&&e.error("Unsupported generic type "+t.value)}return"Promise"===n.generic&&e.probe("?")&&e.error("Promise type cannot be nullable"),n.type=t||null,type_suffix(e,n),n.nullable&&"any"===n.idlType&&e.error("Type `any` cannot be made nullable"),n}class Type extends r.Base{static parse(e,t){return single_type(e,t)||function union_type(e,t){const n={};if(n.open=e.consume("("),!n.open)return;const r=(0,s.autoParenter)(new Type({source:e.source,tokens:n}));for(r.type=t||null;;){const t=(0,s.type_with_extended_attributes)(e)||e.error("No type after open parenthesis or 'or' in union type");"any"===t.idlType&&e.error("Type `any` cannot be included in a union type"),"Promise"===t.generic&&e.error("Type `Promise` cannot be included in a union type"),r.subtype.push(t);const n=e.consume("or");if(!n)break;t.tokens.separator=n}return r.idlType.length<2&&e.error("At least two types are expected in a union type but found less"),n.close=e.consume(")")||e.error("Unterminated union type"),type_suffix(e,r),r.this}(e,t)}constructor(e){let{source:t,tokens:n}=e;super({source:t,tokens:n}),Object.defineProperty(this,"subtype",{value:[],writable:!0}),this.extAttrs=[]}get generic(){return this.subtype.length&&this.tokens.base?this.tokens.base.value:""}get nullable(){return Boolean(this.tokens.nullable)}get union(){return Boolean(this.subtype.length)&&!this.tokens.base}get idlType(){if(this.subtype.length)return this.subtype;const e=[this.tokens.prefix,this.tokens.base,this.tokens.postfix].filter(e=>e).map(e=>e.value).join(" ");return(0,s.unescape)(e)}*validate(e){const t=!this.union&&e.unique.get(this.idlType),n=this.union?this:t&&"typedef"===t.type?t.idlType:void 0;if(n&&this.nullable){const{reference:t}=(0,a.idlTypeIncludesDictionary)(n,e)||{};if(t){const e=(this.union?t:this).tokens.base,n="Nullable union cannot include a dictionary type";yield(0,i.validationError)(e,this,"no-nullable-union-dict",n)}}else for(const t of this.subtype)yield*t.validate(e)}}t.Type=Type},"5WKn":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Includes=void 0;var r=n("Elmy"),s=n("ONdV");class Includes extends r.Base{static parse(e){const t=e.consume("identifier");if(!t)return;const n={target:t};if(n.includes=e.consume("includes"),n.includes)return n.mixin=e.consume("identifier")||e.error("Incomplete includes statement"),n.termination=e.consume(";")||e.error("No terminating ; for includes statement"),new Includes({source:e.source,tokens:n});e.unconsume(t.index)}get type(){return"includes"}get target(){return(0,s.unescape)(this.tokens.target.value)}get includes(){return(0,s.unescape)(this.tokens.mixin.value)}}t.Includes=Includes},"5uWW":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dictionaryIncludesRequiredField=function dictionaryIncludesRequiredField(e,t){if(t.cache.dictionaryIncludesRequiredField.has(e))return t.cache.dictionaryIncludesRequiredField.get(e);if(t.cache.dictionaryIncludesRequiredField.set(e,void 0),e.inheritance){const n=t.unique.get(e.inheritance);if(!n)return!0;if(dictionaryIncludesRequiredField(n,t))return!0}const n=e.members.some(e=>e.required);return t.cache.dictionaryIncludesRequiredField.set(e,n),n},t.idlTypeIncludesDictionary=function idlTypeIncludesDictionary(e,t){let{useNullableInner:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.union){const r=t.unique.get(e.idlType);if(!r)return;if("typedef"===r.type){const{typedefIncludesDictionary:n}=t.cache;if(n.has(r))return n.get(r);t.cache.typedefIncludesDictionary.set(r,void 0);const s=idlTypeIncludesDictionary(r.idlType,t);if(t.cache.typedefIncludesDictionary.set(r,s),s)return{reference:e,dictionary:s.dictionary}}if("dictionary"===r.type&&(n||!e.nullable))return{reference:e,dictionary:r}}for(const n of e.subtype){const e=idlTypeIncludesDictionary(n,t);if(e)return n.union?e:{reference:n,dictionary:e.dictionary}}}},"5zlS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mixin=void 0;var r=n("ecae"),s=n("xoCV"),o=n("pjFt"),i=n("EngY"),a=n("ONdV");class Mixin extends r.Container{static parse(e,t){let{partial:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const u={partial:n,base:t};if(u.mixin=e.consume("mixin"),u.mixin)return r.Container.parse(e,new Mixin({source:e.source,tokens:u}),{type:"interface mixin",allowedMembers:[[s.Constant.parse],[a.stringifier],[o.Attribute.parse,{noInherit:!0}],[i.Operation.parse,{regular:!0}]]})}get type(){return"interface mixin"}}t.Mixin=Mixin},"6LlN":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallbackInterface=void 0;var r=n("ecae"),s=n("EngY"),o=n("xoCV");class CallbackInterface extends r.Container{static parse(e,t){let{partial:n=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i={callback:t};if(i.base=e.consume("interface"),i.base)return r.Container.parse(e,new CallbackInterface({source:e.source,tokens:i}),{type:"callback interface",inheritable:!n,allowedMembers:[[o.Constant.parse],[s.Operation.parse,{regular:!0}]]})}get type(){return"callback interface"}}t.CallbackInterface=CallbackInterface},CeQp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkInterfaceMemberDuplication=function*checkInterfaceMemberDuplication(e,t){const n=new Set(getOperations(t).map(e=>e.name)),s=e.partials.get(t.name)||[],o=e.mixinMap.get(t.name)||[];for(const e of[...s,...o]){const r=getOperations(e);yield*forEachExtension(r,n,e,t);for(const e of r)n.add(e.name)}function*forEachExtension(e,t,n,s){for(const o of e){const{name:e}=o;if(e&&t.has(e)){const t=`The operation "${e}" has already been defined for the base interface "${s.name}" either in itself or in a mixin`;yield(0,r.validationError)(o.tokens.name,n,"no-cross-overload",t)}}}function getOperations(e){return e.members.filter(e=>{let{type:t}=e;return"operation"===t})}};var r=n("hEzU")},Elmy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;t.Base=class Base{constructor(e){let{source:t,tokens:n}=e;Object.defineProperties(this,{source:{value:t},tokens:{value:n},parent:{value:null,writable:!0},this:{value:this}})}toJSON(){const e={type:void 0,name:void 0,inheritance:void 0};let t=this;for(;t!==Object.prototype;){const n=Object.getOwnPropertyDescriptors(t);for(const[t,r]of Object.entries(n))(r.enumerable||r.get)&&(e[t]=this[t]);t=Object.getPrototypeOf(t)}return e}}},EngY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Operation=void 0;var r=n("Elmy"),s=n("ONdV"),o=n("hEzU");class Operation extends r.Base{static parse(e){let{special:t,regular:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={special:t},o=(0,s.autoParenter)(new Operation({source:e.source,tokens:r}));return t&&"stringifier"===t.value&&(r.termination=e.consume(";"),r.termination)?(o.arguments=[],o):(t||n||(r.special=e.consume("getter","setter","deleter")),o.idlType=(0,s.return_type)(e)||e.error("Missing return type"),r.name=e.consume("identifier","includes"),r.open=e.consume("(")||e.error("Invalid operation"),o.arguments=(0,s.argument_list)(e),r.close=e.consume(")")||e.error("Unterminated operation"),r.termination=e.consume(";")||e.error("Unterminated operation, expected `;`"),o.this)}get type(){return"operation"}get name(){const{name:e}=this.tokens;return e?(0,s.unescape)(e.value):""}get special(){return this.tokens.special?this.tokens.special.value:""}*validate(e){if(!this.name&&["","static"].includes(this.special)){const e="Regular or static operations must have both a return type and an identifier.";yield(0,o.validationError)(this.tokens.open,this,"incomplete-op",e)}this.idlType&&(yield*this.idlType.validate(e));for(const t of this.arguments)yield*t.validate(e)}}t.Operation=Operation},"H+T+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallbackFunction=void 0;var r=n("Elmy"),s=n("ONdV");class CallbackFunction extends r.Base{static parse(e,t){const n={base:t},r=(0,s.autoParenter)(new CallbackFunction({source:e.source,tokens:n}));return n.name=e.consume("identifier")||e.error("Callback lacks a name"),e.current=r.this,n.assign=e.consume("=")||e.error("Callback lacks an assignment"),r.idlType=(0,s.return_type)(e)||e.error("Callback lacks a return type"),n.open=e.consume("(")||e.error("Callback lacks parentheses for arguments"),r.arguments=(0,s.argument_list)(e),n.close=e.consume(")")||e.error("Unterminated callback"),n.termination=e.consume(";")||e.error("Unterminated callback, expected `;`"),r.this}get type(){return"callback"}get name(){return(0,s.unescape)(this.tokens.name.value)}*validate(e){yield*this.idlType.validate(e)}}t.CallbackFunction=CallbackFunction},IgM9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Field=void 0;var r=n("Elmy"),s=n("ONdV"),o=n("x0Qb"),i=n("Jh77");class Field extends r.Base{static parse(e){const t={},n=(0,s.autoParenter)(new Field({source:e.source,tokens:t}));return n.extAttrs=o.ExtendedAttributes.parse(e),t.required=e.consume("required"),n.idlType=(0,s.type_with_extended_attributes)(e,"dictionary-type")||e.error("Dictionary member lacks a type"),t.name=e.consume("identifier")||e.error("Dictionary member lacks a name"),n.default=i.Default.parse(e),t.required&&n.default&&e.error("Required member must not have a default"),t.termination=e.consume(";")||e.error("Unterminated dictionary member, expected `;`"),n.this}get type(){return"field"}get name(){return(0,s.unescape)(this.tokens.name.value)}get required(){return!!this.tokens.required}*validate(e){yield*this.idlType.validate(e)}}t.Field=Field},JEmy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeNameKeywords=t.stringTypes=t.argumentNameKeywords=t.WebIDLParseError=t.Tokeniser=void 0;var r=n("hEzU"),s=n("ONdV");const o={decimal:/-?(?=[0-9]*\.|[0-9]+[eE])(([0-9]+\.[0-9]*|[0-9]*\.[0-9]+)([Ee][-+]?[0-9]+)?|[0-9]+[Ee][-+]?[0-9]+)/y,integer:/-?(0([Xx][0-9A-Fa-f]+|[0-7]*)|[1-9][0-9]*)/y,identifier:/[_-]?[A-Za-z][0-9A-Z_a-z-]*/y,string:/"[^"]*"/y,whitespace:/[\t\n\r ]+/y,comment:/((\/(\/.*|\*([^*]|\*[^/])*\*\/)[\t\n\r ]*)+)/y,other:/[^\t\n\r 0-9A-Za-z]/y},i=["ArrayBuffer","DataView","Int8Array","Int16Array","Int32Array","Uint8Array","Uint16Array","Uint32Array","Uint8ClampedArray","Float32Array","Float64Array","any","object","symbol"];t.typeNameKeywords=i;const a=["ByteString","DOMString","USVString"];t.stringTypes=a;const u=["async","attribute","callback","const","constructor","deleter","dictionary","enum","getter","includes","inherit","interface","iterable","maplike","namespace","partial","required","setlike","setter","static","stringifier","typedef","unrestricted"];t.argumentNameKeywords=u;const c=["-Infinity","FrozenArray","Infinity","NaN","Promise","boolean","byte","double","false","float","long","mixin","null","octet","optional","or","readonly","record","sequence","short","true","unsigned","void"].concat(u,a,i),l=["(",")",",","...",":",";","<","=",">","?","[","]","{","}"],d=["_constructor","toString","_toString"];t.Tokeniser=class Tokeniser{constructor(e){this.source=function tokenise(e){const t=[];let n=0,i="",a=1,u=0;for(;n<e.length;){const o=e.charAt(n);let p=-1;if(/[\t\n\r ]/.test(o)?p=attemptTokenMatch("whitespace",{noFlushTrivia:!0}):"/"===o&&(p=attemptTokenMatch("comment",{noFlushTrivia:!0})),-1!==p){const e=t.pop().value;a+=(e.match(/\n/g)||[]).length,i+=e,u-=1}else if(/[-0-9.A-Z_a-z]/.test(o)){if(p=attemptTokenMatch("decimal"),-1===p&&(p=attemptTokenMatch("integer")),-1===p){p=attemptTokenMatch("identifier");const e=t.length-1,n=t[e];if(-1!==p){if(d.includes(n.value)){const o=(0,s.unescape)(n.value)+" is a reserved identifier and must not be used.";throw new WebIDLParseError((0,r.syntaxError)(t,e,null,o))}c.includes(n.value)&&(n.type=n.value)}}}else'"'===o&&(p=attemptTokenMatch("string"));for(const r of l)if(e.startsWith(r,n)){t.push({type:r,value:r,trivia:i,line:a,index:u}),i="",n+=r.length,p=n;break}if(-1===p&&(p=attemptTokenMatch("other")),-1===p)throw new Error("Token stream not progressing");n=p,u+=1}return t.push({type:"eof",value:"",trivia:i}),t;function attemptTokenMatch(r){let{noFlushTrivia:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=o[r];c.lastIndex=n;const l=c.exec(e);return l?(t.push({type:r,value:l[0],trivia:i,line:a,index:u}),s||(i=""),c.lastIndex):-1}}(e),this.position=0}error(e){throw new WebIDLParseError((0,r.syntaxError)(this.source,this.position,this.current,e))}probe(e){return this.source.length>this.position&&this.source[this.position].type===e}consume(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const e of t){if(!this.probe(e))continue;const t=this.source[this.position];return this.position++,t}}unconsume(e){this.position=e}};class WebIDLParseError extends Error{constructor(e){let{message:t,bareMessage:n,context:r,line:s,sourceName:o,input:i,tokens:a}=e;super(t),this.name="WebIDLParseError",this.bareMessage=n,this.context=r,this.line=s,this.sourceName=o,this.input=i,this.tokens=a}}t.WebIDLParseError=WebIDLParseError},Jh77:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Default=void 0;var r=n("Elmy"),s=n("ONdV");class Default extends r.Base{static parse(e){const t=e.consume("=");if(!t)return null;const n=(0,s.const_value)(e)||e.consume("string","null","[","{")||e.error("No value for default"),r=[n];if("["===n.type){const t=e.consume("]")||e.error("Default sequence value must be empty");r.push(t)}else if("{"===n.type){const t=e.consume("}")||e.error("Default dictionary value must be empty");r.push(t)}return new Default({source:e.source,tokens:{assign:t},expression:r})}constructor(e){let{source:t,tokens:n,expression:r}=e;super({source:t,tokens:n}),r.parent=this,Object.defineProperty(this,"expression",{value:r})}get type(){return(0,s.const_data)(this.expression[0]).type}get value(){return(0,s.const_data)(this.expression[0]).value}get negative(){return(0,s.const_data)(this.expression[0]).negative}}t.Default=Default},KaCN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IterableLike=void 0;var r=n("Elmy"),s=n("ONdV");class IterableLike extends r.Base{static parse(e){const t=e.position,n={},r=(0,s.autoParenter)(new IterableLike({source:e.source,tokens:n}));if(n.readonly=e.consume("readonly"),n.readonly||(n.async=e.consume("async")),n.base=n.readonly?e.consume("maplike","setlike"):n.async?e.consume("iterable"):e.consume("iterable","maplike","setlike"),!n.base)return void e.unconsume(t);const{type:o}=r,i="maplike"===o||r.async,a=i||"iterable"===o;n.open=e.consume("<")||e.error(`Missing less-than sign \`<\` in ${o} declaration`);const u=(0,s.type_with_extended_attributes)(e)||e.error(`Missing a type argument in ${o} declaration`);return r.idlType=[u],a&&(u.tokens.separator=e.consume(","),u.tokens.separator?r.idlType.push((0,s.type_with_extended_attributes)(e)):i&&e.error(`Missing second type argument in ${o} declaration`)),n.close=e.consume(">")||e.error(`Missing greater-than sign \`>\` in ${o} declaration`),n.termination=e.consume(";")||e.error(`Missing semicolon after ${o} declaration`),r.this}get type(){return this.tokens.base.value}get readonly(){return!!this.tokens.readonly}get async(){return!!this.tokens.async}}t.IterableLike=IterableLike},Mtnn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dictionary=void 0;var r=n("ecae"),s=n("IgM9");class Dictionary extends r.Container{static parse(e){let{partial:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={partial:t};if(n.base=e.consume("dictionary"),n.base)return r.Container.parse(e,new Dictionary({source:e.source,tokens:n}),{type:"dictionary",inheritable:!t,allowedMembers:[[s.Field.parse]]})}get type(){return"dictionary"}}t.Dictionary=Dictionary},ONdV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.argument_list=function argument_list(e){return list(e,{parser:s.Argument.parse,listName:"arguments list"})},t.autoParenter=autoParenter,t.autofixAddExposedWindow=function autofixAddExposedWindow(e){return()=>{if(e.extAttrs.length){const t=new u.Tokeniser("Exposed=Window,"),n=o.SimpleExtendedAttribute.parse(t);n.tokens.separator=t.consume(",");const r=e.extAttrs[0];/^\s/.test(r.tokens.name.trivia)||(r.tokens.name.trivia=" "+r.tokens.name.trivia),e.extAttrs.unshift(n)}else{autoParenter(e).extAttrs=o.ExtendedAttributes.parse(new u.Tokeniser("[Exposed=Window]"));const t=e.tokens.base.trivia;e.extAttrs.tokens.open.trivia=t,e.tokens.base.trivia="\n"+getLastIndentation(t)}}},t.const_data=function const_data(e){let{type:t,value:n}=e;switch(t){case"true":case"false":return{type:"boolean",value:"true"===t};case"Infinity":case"-Infinity":return{type:"Infinity",negative:t.startsWith("-")};case"[":return{type:"sequence",value:[]};case"{":return{type:"dictionary"};case"decimal":case"integer":return{type:"number",value:n};case"string":return{type:"string",value:n.slice(1,-1)};default:return{type:t}}},t.const_value=function const_value(e){return e.consume("true","false","Infinity","-Infinity","NaN","decimal","integer")},t.findLastIndex=function findLastIndex(e,t){const n=e.slice().reverse().findIndex(t);if(-1===n)return n;return e.length-n-1},t.getFirstToken=function getFirstToken(e){if(e.extAttrs.length)return e.extAttrs.tokens.open;if("operation"===e.type&&!e.special)return getFirstToken(e.idlType);return Object.values(e.tokens).sort((e,t)=>e.index-t.index)[0]},t.getLastIndentation=getLastIndentation,t.getMemberIndentation=function getMemberIndentation(e){const t=getLastIndentation(e),n=t.includes("\t")?"\t":"  ";return t+n},t.list=list,t.primitive_type=function primitive_type(e){const{source:t}=e,n=function integer_type(){const n=e.consume("unsigned"),s=e.consume("short","long");if(s){const o=e.consume("long");return new r.Type({source:t,tokens:{prefix:n,base:s,postfix:o}})}n&&e.error("Failed to parse integer type")}()||function decimal_type(){const n=e.consume("unrestricted"),s=e.consume("float","double");if(s)return new r.Type({source:t,tokens:{prefix:n,base:s}});n&&e.error("Failed to parse float type")}();if(n)return n;const s=e.consume("boolean","byte","octet");if(s)return new r.Type({source:t,tokens:{base:s}})},t.return_type=function return_type(e,t){const n=r.Type.parse(e,t||"return-type");if(n)return n;const s=e.consume("void");if(s){const t=new r.Type({source:e.source,tokens:{base:s}});return t.type="return-type",t}},t.stringifier=function stringifier(e){const t=e.consume("stringifier");if(!t)return;return a.Attribute.parse(e,{special:t})||i.Operation.parse(e,{special:t})||e.error("Unterminated stringifier")},t.type_with_extended_attributes=function type_with_extended_attributes(e,t){const n=o.ExtendedAttributes.parse(e),s=r.Type.parse(e,t);s&&(autoParenter(s).extAttrs=n);return s},t.unescape=function unescape(e){return e.startsWith("_")?e.slice(1):e};var r=n("3HgI"),s=n("nTvs"),o=n("x0Qb"),i=n("EngY"),a=n("pjFt"),u=n("JEmy");function list(e,t){let{parser:n,allowDangler:r,listName:s="list"}=t;const o=n(e);if(!o)return[];o.tokens.separator=e.consume(",");const i=[o];for(;o.tokens.separator;){const t=n(e);if(!t){r||e.error("Trailing comma in "+s);break}if(t.tokens.separator=e.consume(","),i.push(t),!t.tokens.separator)break}return i}function getLastIndentation(e){const t=e.split("\n");if(t.length){const e=t[t.length-1].match(/^\s+/);if(e)return e[0]}return""}function autoParenter(e,t){return t||(t=e),e?new Proxy(e,{get(e,t){const n=e[t];return Array.isArray(n)?autoParenter(n,e):n},set(e,n,r){if(e[n]=r,!r)return!0;if(Array.isArray(r))for(const e of r)void 0!==e.parent&&(e.parent=t);else void 0!==r.parent&&(r.parent=t);return!0}}):e}},Pz2P:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Interface=void 0;var r=n("ecae"),s=n("pjFt"),o=n("EngY"),i=n("xoCV"),a=n("KaCN"),u=n("ONdV"),c=n("hEzU"),l=n("CeQp"),d=n("xRdj"),p=n("JEmy");function static_member(e){const t=e.consume("static");if(t)return s.Attribute.parse(e,{special:t})||o.Operation.parse(e,{special:t})||e.error("No body in static member")}class Interface extends r.Container{static parse(e,t){let{partial:n=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c={partial:n,base:t};return r.Container.parse(e,new Interface({source:e.source,tokens:c}),{type:"interface",inheritable:!n,allowedMembers:[[i.Constant.parse],[d.Constructor.parse],[static_member],[u.stringifier],[a.IterableLike.parse],[s.Attribute.parse],[o.Operation.parse]]})}get type(){return"interface"}*validate(e){if(yield*this.extAttrs.validate(e),!this.partial&&this.extAttrs.every(e=>"Exposed"!==e.name)&&this.extAttrs.every(e=>"NoInterfaceObject"!==e.name)){const e="Interfaces must have `[Exposed]` extended attribute. To fix, add, for example, `[Exposed=Window]`. Please also consider carefully if your interface should also be exposed in a Worker scope. Refer to the [WebIDL spec section on Exposed](https://heycam.github.io/webidl/#Exposed) for more information.";yield(0,c.validationError)(this.tokens.name,this,"require-exposed",e,{autofix:(0,u.autofixAddExposedWindow)(this)})}const t=this.extAttrs.filter(e=>"Constructor"===e.name);for(const e of t){const t="Constructors should now be represented as a `constructor()` operation on the interface instead of `[Constructor]` extended attribute. Refer to the [WebIDL spec section on constructor operations](https://heycam.github.io/webidl/#idl-constructors) for more information.";yield(0,c.validationError)(e.tokens.name,this,"constructor-member",t,{autofix:autofixConstructor(this,e)})}if(this.extAttrs.some(e=>"Global"===e.name)){const e=this.extAttrs.filter(e=>"NamedConstructor"===e.name);for(const t of e){const e="Interfaces marked as `[Global]` cannot have named constructors.";yield(0,c.validationError)(t.tokens.name,this,"no-constructible-global",e)}const t=this.members.filter(e=>"constructor"===e.type);for(const e of t){const t="Interfaces marked as `[Global]` cannot have constructors.";yield(0,c.validationError)(e.tokens.base,this,"no-constructible-global",t)}}yield*super.validate(e),this.partial||(yield*(0,l.checkInterfaceMemberDuplication)(e,this))}}function autofixConstructor(e,t){return e=(0,u.autoParenter)(e),()=>{const n=(0,u.getLastIndentation)(e.extAttrs.tokens.open.trivia),r=e.members.length?(0,u.getLastIndentation)((0,u.getFirstToken)(e.members[0]).trivia):(0,u.getMemberIndentation)(n),s=d.Constructor.parse(new p.Tokeniser(`\n${r}constructor();`));s.extAttrs=[],(0,u.autoParenter)(s).arguments=t.arguments;const o=(0,u.findLastIndex)(e.members,e=>"constructor"===e.type);e.members.splice(o+1,0,s);const{close:i}=e.tokens;i.trivia.includes("\n")||(i.trivia+="\n"+n);const{extAttrs:a}=e,c=a.indexOf(t),l=a.splice(c,1);a.length?a.length===c?a[c-1].tokens.separator=void 0:a[c].tokens.name.trivia.trim()||(a[c].tokens.name.trivia=l[0].tokens.name.trivia):a.tokens.open=a.tokens.close=void 0}}t.Interface=Interface},SB50:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Namespace=void 0;var r=n("ecae"),s=n("pjFt"),o=n("EngY"),i=n("hEzU"),a=n("ONdV");class Namespace extends r.Container{static parse(e){let{partial:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={partial:t};if(n.base=e.consume("namespace"),n.base)return r.Container.parse(e,new Namespace({source:e.source,tokens:n}),{type:"namespace",allowedMembers:[[s.Attribute.parse,{noInherit:!0,readonly:!0}],[o.Operation.parse,{regular:!0}]]})}get type(){return"namespace"}*validate(e){if(!this.partial&&this.extAttrs.every(e=>"Exposed"!==e.name)){const e="Namespaces must have [Exposed] extended attribute. To fix, add, for example, [Exposed=Window]. Please also consider carefully if your namespace should also be exposed in a Worker scope. Refer to the [WebIDL spec section on Exposed](https://heycam.github.io/webidl/#Exposed) for more information.";yield(0,i.validationError)(this.tokens.name,this,"require-exposed",e,{autofix:(0,a.autofixAddExposedWindow)(this)})}yield*super.validate(e)}}t.Namespace=Namespace},SPmT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"WebIDLParseError",{enumerable:!0,get:function(){return i.WebIDLParseError}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return r.parse}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return o.validate}}),Object.defineProperty(t,"write",{enumerable:!0,get:function(){return s.write}});var r=n("SlqM"),s=n("ot2C"),o=n("aEJP"),i=n("JEmy")},SlqM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new r.Tokeniser(e);void 0!==t.sourceName&&(n.source.name=t.sourceName);return parseByTokens(n,t)};var r=n("JEmy"),s=n("h8iO"),o=n("5WKn"),i=n("x0Qb"),a=n("im/9"),u=n("H+T+"),c=n("Pz2P"),l=n("5zlS"),d=n("Mtnn"),p=n("SB50"),m=n("6LlN"),f=n("ONdV");function parseByTokens(e,t){const n=e.source;function error(t){e.error(t)}function consume(){return e.consume(...arguments)}function interface_(t){const n=consume("interface");if(n)return l.Mixin.parse(e,n,t)||c.Interface.parse(e,n,t)||error("Interface has no proper body")}function definition(){return function callback(){const t=consume("callback");if(t)return e.probe("interface")?m.CallbackInterface.parse(e,t):u.CallbackFunction.parse(e,t)}()||interface_()||function partial(){const t=consume("partial");if(t)return d.Dictionary.parse(e,{partial:t})||interface_({partial:t})||p.Namespace.parse(e,{partial:t})||error("Partial doesn't apply to anything")}()||d.Dictionary.parse(e)||s.Enum.parse(e)||a.Typedef.parse(e)||o.Includes.parse(e)||p.Namespace.parse(e)}const r=function definitions(){if(!n.length)return[];const r=[];for(;;){const t=i.ExtendedAttributes.parse(e),n=definition();if(!n){t.length&&error("Stray extended attributes");break}(0,f.autoParenter)(n).extAttrs=t,r.push(n)}const s=consume("eof");return t.concrete&&r.push(s),r}();return e.position<n.length&&error("Unrecognised tokens"),r}},aEJP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=function validate(e){return[...validateIterable(flatten(e))]};var r=n("hEzU");function getMixinMap(e,t){const n=new Map,r=e.filter(e=>"includes"===e.type);for(const e of r){const r=t.get(e.includes);if(!r)continue;const s=n.get(e.target);s?s.push(r):n.set(e.target,[r])}return n}function*validateIterable(e){const t=function groupDefinitions(e){const t=new Map,n=new Set,r=new Map;for(const s of e)if(s.partial){const e=r.get(s.name);e?e.push(s):r.set(s.name,[s])}else s.name&&(t.has(s.name)?n.add(s):t.set(s.name,s));return{all:e,unique:t,partials:r,duplicates:n,mixinMap:getMixinMap(e,t),cache:{typedefIncludesDictionary:new WeakMap,dictionaryIncludesRequiredField:new WeakMap}}}(e);for(const e of t.all)e.validate&&(yield*e.validate(t));yield*function*checkDuplicatedNames(e){let{unique:t,duplicates:n}=e;for(const e of n){const{name:n}=e,s=`The name "${n}" of type "${t.get(n).type}" was already seen`;yield(0,r.validationError)(e.tokens.name,e,"no-duplicate",s)}}(t)}function flatten(e){return e.flat?e.flat():[].concat(...e)}},ecae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var r=n("Elmy"),s=n("x0Qb"),o=n("ONdV");class Container extends r.Base{static parse(e,t,n){let{type:r,inheritable:i,allowedMembers:a}=n;const{tokens:u}=t;for(u.name=e.consume("identifier")||e.error("Missing name in "+t.type),e.current=t,t=(0,o.autoParenter)(t),i&&Object.assign(u,function inheritance(e){const t=e.consume(":");return t?{colon:t,inheritance:e.consume("identifier")||e.error("Inheritance lacks a type")}:{}}(e)),u.open=e.consume("{")||e.error("Bodyless "+r),t.members=[];;){if(u.close=e.consume("}"),u.close)return u.termination=e.consume(";")||e.error("Missing semicolon after "+r),t.this;const n=s.ExtendedAttributes.parse(e);let i;for(const[t,...n]of a)if(i=(0,o.autoParenter)(t(e,...n)),i)break;i||e.error("Unknown member"),i.extAttrs=n,t.members.push(i.this)}}get partial(){return!!this.tokens.partial}get name(){return(0,o.unescape)(this.tokens.name.value)}get inheritance(){return this.tokens.inheritance?(0,o.unescape)(this.tokens.inheritance.value):null}*validate(e){for(const t of this.members)t.validate&&(yield*t.validate(e))}}t.Container=Container},h8iO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Enum=void 0;var r=n("ONdV"),s=n("jwC6"),o=n("Elmy");class EnumValue extends s.Token{static parse(e){const t=e.consume("string");if(t)return new EnumValue({source:e.source,tokens:{value:t}})}get type(){return"enum-value"}get value(){return super.value.slice(1,-1)}}class Enum extends o.Base{static parse(e){const t={};if(t.base=e.consume("enum"),!t.base)return;t.name=e.consume("identifier")||e.error("No name for enum");const n=(0,r.autoParenter)(new Enum({source:e.source,tokens:t}));return e.current=n.this,t.open=e.consume("{")||e.error("Bodyless enum"),n.values=(0,r.list)(e,{parser:EnumValue.parse,allowDangler:!0,listName:"enumeration"}),e.probe("string")&&e.error("No comma between enum values"),t.close=e.consume("}")||e.error("Unexpected value in enum"),n.values.length||e.error("No value in enum"),t.termination=e.consume(";")||e.error("No semicolon after enum"),n.this}get type(){return"enum"}get name(){return(0,r.unescape)(this.tokens.name.value)}}t.Enum=Enum},hEzU:function(e,t,n){"use strict";function lastLine(e){const t=e.split("\n");return t[t.length-1]}function error(e,t,n,r,s){let{level:o="error",autofix:i,ruleName:a}=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};function sliceTokens(n){return n>0?e.slice(t,t+n):e.slice(Math.max(t+n,0),t)}function tokensToText(n){let{precedes:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=n.map(e=>e.trivia+e.value).join(""),o=e[t];return"eof"===o.type?s:r?s+o.trivia:s.slice(o.trivia.length)}const u=5,c="eof"!==e[t].type?e[t].line:e.length>1?e[t-1].line:1,l=lastLine(tokensToText(sliceTokens(-u),{precedes:!0})),d=sliceTokens(u),p=tokensToText(d),m=p.split("\n")[0],f=" ".repeat(l.length)+"^",y=l+m+"\n"+f,k="Syntax"===s?"since":"inside",b=e.name?" in "+e.name:"",h=n&&n.name?`, ${k} \`${n.partial?"partial ":""}${n.type} ${n.name}\``:"",v=`${s} error at line ${c}${b}${h}:\n${y}`;return{message:`${v} ${r}`,bareMessage:r,context:v,line:c,sourceName:e.name,level:o,ruleName:a,autofix:i,input:p,tokens:d}}Object.defineProperty(t,"__esModule",{value:!0}),t.syntaxError=function syntaxError(e,t,n,r){return error(e,t,n,r,"Syntax")},t.validationError=function validationError(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return s.ruleName=n,error(t.source,e.index,t,r,"Validation",s)}},"im/9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Typedef=void 0;var r=n("Elmy"),s=n("ONdV");class Typedef extends r.Base{static parse(e){const t={},n=(0,s.autoParenter)(new Typedef({source:e.source,tokens:t}));if(t.base=e.consume("typedef"),t.base)return n.idlType=(0,s.type_with_extended_attributes)(e,"typedef-type")||e.error("Typedef lacks a type"),t.name=e.consume("identifier")||e.error("Typedef lacks a name"),e.current=n.this,t.termination=e.consume(";")||e.error("Unterminated typedef, expected `;`"),n.this}get type(){return"typedef"}get name(){return(0,s.unescape)(this.tokens.name.value)}*validate(e){yield*this.idlType.validate(e)}}t.Typedef=Typedef},jwC6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;var r=n("Elmy"),s=n("ONdV");class Token extends r.Base{static parser(e,t){return()=>{const n=e.consume(t);if(n)return new Token({source:e.source,tokens:{value:n}})}}get value(){return(0,s.unescape)(this.tokens.value.value)}}t.Token=Token},nTvs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Argument=void 0;var r=n("Elmy"),s=n("Jh77"),o=n("x0Qb"),i=n("ONdV"),a=n("JEmy"),u=n("hEzU"),c=n("5uWW");class Argument extends r.Base{static parse(e){const t=e.position,n={},r=(0,i.autoParenter)(new Argument({source:e.source,tokens:n}));return r.extAttrs=o.ExtendedAttributes.parse(e),n.optional=e.consume("optional"),r.idlType=(0,i.type_with_extended_attributes)(e,"argument-type"),r.idlType?(n.optional||(n.variadic=e.consume("...")),n.name=e.consume("identifier",...a.argumentNameKeywords),n.name?(r.default=n.optional?s.Default.parse(e):null,r.this):e.unconsume(t)):e.unconsume(t)}get type(){return"argument"}get optional(){return!!this.tokens.optional}get variadic(){return!!this.tokens.variadic}get name(){return(0,i.unescape)(this.tokens.name.value)}*validate(e){yield*this.idlType.validate(e);const t=(0,c.idlTypeIncludesDictionary)(this.idlType,e,{useNullableInner:!0});if(t)if(this.idlType.nullable){const e="Dictionary arguments cannot be nullable.";yield(0,u.validationError)(this.tokens.name,this,"no-nullable-dict-arg",e)}else if(this.optional){if(!this.default){const e="Optional dictionary arguments must have a default value of `{}`.";yield(0,u.validationError)(this.tokens.name,this,"dict-arg-default",e,{autofix:autofixOptionalDictionaryDefaultValue(this)})}}else if(this.parent&&!(0,c.dictionaryIncludesRequiredField)(t.dictionary,e)&&function isLastRequiredArgument(e){const t=e.parent.arguments||e.parent.list,n=t.indexOf(e);return!t.slice(n+1).some(e=>!e.optional)}(this)){const e="Dictionary argument must be optional if it has no required fields";yield(0,u.validationError)(this.tokens.name,this,"dict-arg-optional",e,{autofix:(n=this,()=>{const e=(0,i.getFirstToken)(n.idlType);n.tokens.optional={type:"optional",value:"optional",trivia:e.trivia},e.trivia=" ",autofixOptionalDictionaryDefaultValue(n)()})})}var n}}function autofixOptionalDictionaryDefaultValue(e){return()=>{e.default=s.Default.parse(new a.Tokeniser(" = {}"))}}t.Argument=Argument},ot2C:function(e,t,n){"use strict";function noop(e){return e}Object.defineProperty(t,"__esModule",{value:!0}),t.write=function write(e){let{templates:t=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function reference(e,n){let{unescaped:r,context:s}=n;return r||(r=e.startsWith("_")?e.slice(1):e),t.reference(e,r,s)}function token(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop;if(!e)return"";for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];const i=n(e.value,...s);return t.wrap([t.trivia(e.trivia),i])}function reference_token(e,t){return token(e,reference,{context:t})}function name_token(e,n){return token(e,t.name,n)}function type_body(e){if(e.union||e.generic)return t.wrap([token(e.tokens.base,t.generic),token(e.tokens.open),...e.subtype.map(type),token(e.tokens.close)]);const n=e.tokens.prefix||e.tokens.base,r=e.tokens.prefix?[e.tokens.prefix.value,t.trivia(e.tokens.base.trivia)]:[],s=reference(t.wrap([...r,e.tokens.base.value,token(e.tokens.postfix)]),{unescaped:e.idlType,context:e});return t.wrap([t.trivia(n.trivia),s])}function type(e){return t.wrap([extended_attributes(e.extAttrs),type_body(e),token(e.tokens.nullable),token(e.tokens.separator)])}function default_(e){return e?t.wrap([token(e.tokens.assign),...e.expression.map(e=>token(e))]):""}function argument(e){return t.wrap([extended_attributes(e.extAttrs),token(e.tokens.optional),t.type(type(e.idlType)),token(e.tokens.variadic),name_token(e.tokens.name,{data:e}),default_(e.default),token(e.tokens.separator)])}function extended_attribute_listitem(e){return t.wrap([token(e.tokens.value),token(e.tokens.separator)])}function identifier(e,n){return t.wrap([reference_token(e.tokens.value,n),token(e.tokens.separator)])}function make_ext_at(e){const{rhsType:n}=e.params;return t.wrap([t.trivia(e.tokens.name.trivia),t.extendedAttribute(t.wrap([t.extendedAttributeReference(e.name),token(e.params.tokens.assign),reference_token(e.params.tokens.secondaryName,e),token(e.params.tokens.open),...e.params.list?e.params.list.map("identifier-list"===n?t=>identifier(t,e):n&&n.endsWith("-list")?extended_attribute_listitem:argument):[],token(e.params.tokens.close)])),token(e.tokens.separator)])}function extended_attributes(e){return e.length?t.wrap([token(e.tokens.open),...e.map(make_ext_at),token(e.tokens.close)]):""}function operation(e,n){const r=e.idlType?[t.type(type(e.idlType)),name_token(e.tokens.name,{data:e,parent:n}),token(e.tokens.open),t.wrap(e.arguments.map(argument)),token(e.tokens.close)]:[];return t.definition(t.wrap([extended_attributes(e.extAttrs),e.tokens.name?token(e.tokens.special):token(e.tokens.special,t.nameless,{data:e,parent:n}),...r,token(e.tokens.termination)]),{data:e,parent:n})}function attribute(e,n){return t.definition(t.wrap([extended_attributes(e.extAttrs),token(e.tokens.special),token(e.tokens.readonly),token(e.tokens.base),t.type(type(e.idlType)),name_token(e.tokens.name,{data:e,parent:n}),token(e.tokens.termination)]),{data:e,parent:n})}function constructor(e,n){return t.definition(t.wrap([extended_attributes(e.extAttrs),token(e.tokens.base,t.nameless,{data:e,parent:n}),token(e.tokens.open),t.wrap(e.arguments.map(argument)),token(e.tokens.close),token(e.tokens.termination)]),{data:e,parent:n})}function inheritance(e){return e.tokens.inheritance?t.wrap([token(e.tokens.colon),t.trivia(e.tokens.inheritance.trivia),t.inheritance(reference(e.tokens.inheritance.value,{context:e}))]):""}function container(e){return t.definition(t.wrap([extended_attributes(e.extAttrs),token(e.tokens.callback),token(e.tokens.partial),token(e.tokens.base),token(e.tokens.mixin),name_token(e.tokens.name,{data:e}),inheritance(e),token(e.tokens.open),iterate(e.members,e),token(e.tokens.close),token(e.tokens.termination)]),{data:e})}function field(e,n){return t.definition(t.wrap([extended_attributes(e.extAttrs),token(e.tokens.required),t.type(type(e.idlType)),name_token(e.tokens.name,{data:e,parent:n}),default_(e.default),token(e.tokens.termination)]),{data:e,parent:n})}function const_(e,n){return t.definition(t.wrap([extended_attributes(e.extAttrs),token(e.tokens.base),t.type(type(e.idlType)),name_token(e.tokens.name,{data:e,parent:n}),token(e.tokens.assign),token(e.tokens.value),token(e.tokens.termination)]),{data:e,parent:n})}function typedef(e){return t.definition(t.wrap([extended_attributes(e.extAttrs),token(e.tokens.base),t.type(type(e.idlType)),name_token(e.tokens.name,{data:e}),token(e.tokens.termination)]),{data:e})}function includes(e){return t.definition(t.wrap([extended_attributes(e.extAttrs),reference_token(e.tokens.target,e),token(e.tokens.includes),reference_token(e.tokens.mixin,e),token(e.tokens.termination)]),{data:e})}function callback(e){return t.definition(t.wrap([extended_attributes(e.extAttrs),token(e.tokens.base),name_token(e.tokens.name,{data:e}),token(e.tokens.assign),t.type(type(e.idlType)),token(e.tokens.open),...e.arguments.map(argument),token(e.tokens.close),token(e.tokens.termination)]),{data:e})}function enum_(e){return t.definition(t.wrap([extended_attributes(e.extAttrs),token(e.tokens.base),name_token(e.tokens.name,{data:e}),token(e.tokens.open),iterate(e.values,e),token(e.tokens.close),token(e.tokens.termination)]),{data:e})}function enum_value(e,n){return t.wrap([t.trivia(e.tokens.value.trivia),t.definition(t.wrap(['"',t.name(e.value,{data:e,parent:n}),'"']),{data:e,parent:n}),token(e.tokens.separator)])}function iterable_like(e,n){return t.definition(t.wrap([extended_attributes(e.extAttrs),token(e.tokens.readonly),token(e.tokens.async),token(e.tokens.base,t.generic),token(e.tokens.open),t.wrap(e.idlType.map(type)),token(e.tokens.close),token(e.tokens.termination)]),{data:e,parent:n})}function eof(e){return t.trivia(e.trivia)}t=Object.assign({},r,t);const n={interface:container,"interface mixin":container,namespace:container,operation:operation,attribute:attribute,constructor:constructor,dictionary:container,field:field,const:const_,typedef:typedef,includes:includes,callback:callback,enum:enum_,"enum-value":enum_value,iterable:iterable_like,maplike:iterable_like,setlike:iterable_like,"callback interface":container,eof:eof};function dispatch(e,t){if(!n[e.type])throw new Error(`Type "${e.type}" is unsupported`);return n[e.type](e,t)}function iterate(e,n){if(!e)return;const r=e.map(e=>dispatch(e,n));return t.wrap(r)}return iterate(e)};const r={wrap:e=>e.join(""),trivia:noop,name:noop,reference:noop,type:noop,generic:noop,nameless:noop,inheritance:noop,definition:noop,extendedAttribute:noop,extendedAttributeReference:noop}},pjFt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;var r=n("Elmy"),s=n("ONdV");class Attribute extends r.Base{static parse(e){let{special:t,noInherit:n=!1,readonly:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=e.position,i={special:t},a=(0,s.autoParenter)(new Attribute({source:e.source,tokens:i}));if(t||n||(i.special=e.consume("inherit")),"inherit"===a.special&&e.probe("readonly")&&e.error("Inherited attributes cannot be read-only"),i.readonly=e.consume("readonly"),r&&!i.readonly&&e.probe("attribute")&&e.error("Attributes must be readonly in this context"),i.base=e.consume("attribute"),i.base){switch(a.idlType=(0,s.type_with_extended_attributes)(e,"attribute-type")||e.error("Attribute lacks a type"),a.idlType.generic){case"sequence":case"record":e.error(`Attributes cannot accept ${a.idlType.generic} types`)}return i.name=e.consume("identifier","async","required")||e.error("Attribute lacks a name"),i.termination=e.consume(";")||e.error("Unterminated attribute, expected `;`"),a.this}e.unconsume(o)}get type(){return"attribute"}get special(){return this.tokens.special?this.tokens.special.value:""}get readonly(){return!!this.tokens.readonly}get name(){return(0,s.unescape)(this.tokens.name.value)}*validate(e){yield*this.idlType.validate(e)}}t.Attribute=Attribute},rkbT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayBase=void 0;t.ArrayBase=class ArrayBase extends Array{constructor(e){let{source:t,tokens:n}=e;super(),Object.defineProperties(this,{source:{value:t},tokens:{value:n},parent:{value:null,writable:!0}})}}},x0Qb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleExtendedAttribute=t.ExtendedAttributes=void 0;var r=n("Elmy"),s=n("rkbT"),o=n("jwC6"),i=n("ONdV"),a=n("hEzU");function tokens(e,t){return(0,i.list)(e,{parser:o.Token.parser(e,t),listName:t+" list"})}const u=["identifier","decimal","integer","string"];function extAttrListItems(e){for(const t of u){const n=tokens(e,t);if(n.length)return n}e.error("Expected identifiers, strings, decimals, or integers but none found")}class ExtendedAttributeParameters extends r.Base{static parse(e){const t={assign:e.consume("=")},n=(0,i.autoParenter)(new ExtendedAttributeParameters({source:e.source,tokens:t}));return t.assign&&(t.secondaryName=e.consume(...u)),t.open=e.consume("("),t.open?(n.list=n.rhsIsList?extAttrListItems(e):(0,i.argument_list)(e),t.close=e.consume(")")||e.error("Unexpected token in extended attribute argument list")):n.hasRhs&&!t.secondaryName&&e.error("No right hand side to extended attribute assignment"),n.this}get rhsIsList(){return this.tokens.assign&&!this.tokens.secondaryName}get rhsType(){return this.rhsIsList?this.list[0].tokens.value.type+"-list":this.tokens.secondaryName?this.tokens.secondaryName.type:null}}class SimpleExtendedAttribute extends r.Base{static parse(e){const t=e.consume("identifier");if(t)return new SimpleExtendedAttribute({source:e.source,tokens:{name:t},params:ExtendedAttributeParameters.parse(e)})}constructor(e){let{source:t,tokens:n,params:r}=e;super({source:t,tokens:n}),r.parent=this,Object.defineProperty(this,"params",{value:r})}get type(){return"extended-attribute"}get name(){return this.tokens.name.value}get rhs(){const{rhsType:e,tokens:t,list:n}=this.params;return e?{type:e,value:this.params.rhsIsList?n:(0,i.unescape)(t.secondaryName.value)}:null}get arguments(){const{rhsIsList:e,list:t}=this.params;return!t||e?[]:t}*validate(e){if("NoInterfaceObject"===this.name){const e="`[NoInterfaceObject]` extended attribute is an undesirable feature that may be removed from Web IDL in the future. Refer to the [relevant upstream PR](https://github.com/heycam/webidl/pull/609) for more information.";yield(0,a.validationError)(this.tokens.name,this,"no-nointerfaceobject",e,{level:"warning"})}for(const t of this.arguments)yield*t.validate(e)}}t.SimpleExtendedAttribute=SimpleExtendedAttribute;class ExtendedAttributes extends s.ArrayBase{static parse(e){const t={};if(t.open=e.consume("["),!t.open)return new ExtendedAttributes({});const n=new ExtendedAttributes({source:e.source,tokens:t});return n.push(...(0,i.list)(e,{parser:SimpleExtendedAttribute.parse,listName:"extended attribute"})),t.close=e.consume("]")||e.error("Unexpected closing token of extended attribute"),n.length||e.error("Found an empty extended attribute"),e.probe("[")&&e.error("Illegal double extended attribute lists, consider merging them"),n}*validate(e){for(const t of this)yield*t.validate(e)}}t.ExtendedAttributes=ExtendedAttributes},xRdj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Constructor=void 0;var r=n("Elmy"),s=n("ONdV");class Constructor extends r.Base{static parse(e){const t=e.consume("constructor");if(!t)return;const n={base:t};n.open=e.consume("(")||e.error("No argument list in constructor");const r=(0,s.argument_list)(e);n.close=e.consume(")")||e.error("Unterminated constructor"),n.termination=e.consume(";")||e.error("No semicolon after constructor");const o=new Constructor({source:e.source,tokens:n});return(0,s.autoParenter)(o).arguments=r,o}get type(){return"constructor"}*validate(e){this.idlType&&(yield*this.idlType.validate(e));for(const t of this.arguments)yield*t.validate(e)}}t.Constructor=Constructor},xoCV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Constant=void 0;var r=n("Elmy"),s=n("3HgI"),o=n("ONdV");class Constant extends r.Base{static parse(e){const t={};if(t.base=e.consume("const"),!t.base)return;let n=(0,o.primitive_type)(e);if(!n){const t=e.consume("identifier")||e.error("Const lacks a type");n=new s.Type({source:e.source,tokens:{base:t}})}e.probe("?")&&e.error("Unexpected nullable constant type"),n.type="const-type",t.name=e.consume("identifier")||e.error("Const lacks a name"),t.assign=e.consume("=")||e.error("Const lacks value assignment"),t.value=(0,o.const_value)(e)||e.error("Const lacks a value"),t.termination=e.consume(";")||e.error("Unterminated const, expected `;`");const r=new Constant({source:e.source,tokens:t});return(0,o.autoParenter)(r).idlType=n,r}get type(){return"const"}get name(){return(0,o.unescape)(this.tokens.name.value)}get value(){return(0,o.const_data)(this.tokens.value)}}t.Constant=Constant}}]);